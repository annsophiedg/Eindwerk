<ion-card class="userDetails">
    <ion-icon class="arrow-back" (click)="hideModal()" name="arrow-back"></ion-icon>
    <ion-card-title class="title"><h2>Add new meal</h2></ion-card-title>
</ion-card>

<ion-content>

  <form class="scroll" [formGroup]="meal" (ngSubmit)="logForm()">

    <ul>

      <li>
          <ion-item>
              <ion-label>Food type</ion-label>
              <ion-select formControlName="type" cancelText="cancel" okText="Okay!">
                <ion-select-option *ngFor="let type of types" value="{{ type.typ_id }}">{{ type.typ_name }}</ion-select-option>
              </ion-select>
            </ion-item>
      </li>

      <li>
        <ion-item>
            <ion-label position="floating">Meal Name</ion-label>
            <ion-input type="text" formControlName="name"></ion-input>
        </ion-item>
      </li>

      <li>
          <ion-grid>
              <ion-row>
                  <ion-col size="7">
                    <ion-item>
                          <ion-label>Price</ion-label>
                          <ion-select type="text" formControlName="price">
                            <ion-select-option *ngFor="let price of prices" value="{{ price }}">{{price|currency:"EUR"}}</ion-select-option>
                          </ion-select>
                    </ion-item>
                  </ion-col>

                  <ion-col size="5">
                    <ion-item>
                          <ion-label>Portions</ion-label>
                          <ion-select type="text" formControlName="portions">
                            <ion-select-option *ngFor="let portion of portions" value="{{ portion }}">{{ portion }}</ion-select-option>
                          </ion-select>
                    </ion-item>
                  </ion-col>
                </ion-row>
            </ion-grid>
        </li>

      <li>
        <ion-item >
            <ion-label position="floating" class="dateLabel serveDate"><div><ion-icon name="calendar"></ion-icon></div><div>Day to serve</div></ion-label>
            <ion-input readonly
                      [liIonic4Datepicker]="datePickerObj"
                      formControlName="date">
            </ion-input>
        </ion-item>
      </li>

      <li>
        <ion-grid>
          <ion-row>
            <ion-col size="6">
              <ion-item>
                <ion-label>Start</ion-label>
                <ion-datetime type="time" displayFormat="HH:mm" minuteValues="00,15,30,45" formControlName="startTime"></ion-datetime>
              </ion-item>
          </ion-col>

            <ion-col size="6">
              <ion-item>
                  <ion-label>End</ion-label>
                  <ion-datetime type="time" displayFormat="HH:mm" minuteValues="00,15,30,45" formControlName="endTime"></ion-datetime>
              </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
      </li>

      <li>
        <ion-item>
          <ion-label>Add ingredients</ion-label>
          <ionic-selectable
            formControlName="ingredients"
            itemValueField="ing_id"
            itemTextField="ing_name"
            [items]="ingredients"
            [canSearch]="true"
            [isMultiple]="true">
              <ng-template ionicSelectableCloseButtonTemplate>
                <ion-icon name="close" style="font-size: 24px;"></ion-icon>
              </ng-template>
          </ionic-selectable>
        </ion-item>
      </li>

      <li>
        <ion-item>
            <ion-label position="floating">Meal Description</ion-label>
            <ion-textarea rows="2" cols="20" type="text" formControlName="description"></ion-textarea>
        </ion-item>
      </li>
        <ion-button class="red" type="submit" [disabled]="!meal.valid" (click)="presentLoading()"><p>Add Your Meal</p></ion-button>
    </ul>
  </form>
</ion-content>